@import (reference) '~assets/styles/shared';

.AccountView {
  margin: @size-8 auto;
  min-height: calc(~'100vh - @{multi-top-bar-height}');
  display: grid;
  grid-gap: @size-8 @size-12;
  grid-template-columns: repeat(3, 33%);
  grid-template-rows: @size-40 44vh 44vh @size-40 @size-40;

  @media @breakpoint-mobile {
    margin: @size-8 @size-12;
    min-height: unset;
    display: flex;
    flex-direction: column;
  }

  @media @breakpoint-tablet {
    grid-gap: @size-16;
    grid-template-columns: 50% 50%;
    grid-template-rows: auto;
    margin: @size-16 @size-24;

    > div:first-of-type {
      grid-column: 1;
      order: 1;
    }

    > div:nth-of-type(2) {
      grid-column: 2;
      order: 2;
    }

    > div:nth-of-type(3) {
      grid-column: 1 / span 2;
      order: 4;
    }
    > div:nth-of-type(4) {
      grid-column: 1 / span 2;
      order: 3;
    }
    > div:nth-of-type(5) {
      grid-column: 1 / span 2;
      order: 5;
    }

    > footer {
      order: 6;
      grid-column: 1 / span 2;
    }
  }

  > div {
    display: flex;
    flex-flow: column nowrap;

    @media @breakpoint-tablet {
      button[class*="ToggleExtendButton"] {
        display: none;
      }
    }
  }

  > div:first-of-type,
  > div:nth-of-type(3) {
    grid-row: 1 / span 2;

    @media @breakpoint-tablet {
      grid-row: unset;
    }
  }

  > div:nth-of-type(2) {
    grid-row: 1 / span 4;

    @media @breakpoint-tablet {
      grid-row: unset;
    }

    > div[class*='Headers'] {
      background: var(--color-dark-grey);
      min-height: @size-40;

      > ul {
        padding: 0 @size-8;
      }
    }
  }

  > div:nth-of-type(4),
  > div:nth-of-type(5) {
    grid-row: 3 / span 2;

    @media @breakpoint-tablet {
      grid-row: unset;
    }
  }

  > footer {
    grid-column: 1 / span 3;
    grid-row: 5;
  }

  &.HideNotifications {
    > div:first-of-type {
      grid-row: 1 / span 3;
    }

    > div:nth-of-type(4) {
      grid-row: 4;
      max-height: @size-40;
      overflow-y: hidden;
    }
  }

  &.HideTransactions {
    > div:nth-of-type(3) {
      grid-row: 1 / span 3;
    }

    > div:nth-of-type(5) {
      grid-row: 4;
      max-height: @size-40;
      overflow-y: hidden;
    }
  }

  &.HideActiveMarkets {
    > div:nth-of-type(4) {
      grid-row: 2 / span 3;
    }

    > div:first-of-type {
      grid-row: 1;
      max-height: @size-40;
      overflow-y: hidden;
    }
  }
}

:root[theme="BETTING"],
:root[theme="SPORTS"] {
  .AccountViewWrap {
    width: 100%;
    display: flex;
    flex-direction: column;

    > div:first-of-type {
      .text-24-bold;

      color: var(--color-primary-text);
      margin: @size-32;
    }
  }

  .AccountView {
    margin: @size-8 @size-32;
    display: flex;
    flex-flow: column wrap;
    align-content: space-between;
    min-height: @size-1400;

    > div {
      border: @size-1 solid var(--color-outline);
      border-radius: @border-radius-rounded;
      margin: 0 @size-24 @size-32 0;
      width: 32%;
      min-height: 360px;
      max-height: 600px;

      div[class*='BoxHeader'] {
        background: var(--color-table-header-50);
        border-radius: @border-radius-rounded;

        > div:first-of-type {
          background: transparent;
          max-height: @size-56;
          min-height: @size-56;

          > div:first-of-type {
            .text-16-bold;

            text-transform: capitalize;
          }
        }
      }

      > div:last-of-type {
        border-bottom-left-radius: @border-radius-rounded;
        border-bottom-right-radius: @border-radius-rounded;
      }
    }

    > div:first-of-type {
      order: 1;
    }

    // Overview
    > div:nth-of-type(2) {
      order: 2;
      min-height: @size-744;
      max-height: @size-744;
    }

    > div:nth-of-type(3) {
      order: 2;
      min-height: @size-550;
      max-height: @size-550;
    }

    > div:nth-of-type(4) {
      order: 3;
      min-height: @size-160;
      max-height: @size-160;
      margin-right: 0;
    }

    > div:nth-of-type(5) {
      order: 3;
      margin-right: 0;
    }

    > div:nth-of-type(6) {
      order: 1;
    }

    > footer {
      min-height: @size-40;
    }
  }

  /* Force new columns */
  .AccountView::before,
  .AccountView::after {
    content: "";
    flex-basis: 100%;
    width: 0;
    order: 2;
  }

}
