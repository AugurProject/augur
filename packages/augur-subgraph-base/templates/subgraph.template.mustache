specVersion: 0.0.2
description: Subgraph for the Augur v2 ({{=<% %>=}}{{ network }}<%={{ }}=%>) contracts which tracks Universes, Markets, all the market events and disputing process, all user related balances and token events within the Augur ecosystem (Reputation, Participation and Dispute tokens), as well as metadata from the Augur contract.
repository: https://github.com/AugurProject/augur-v2-subgraph
schema:
  file: ./schema.graphql
dataSources:
{{#entities}}
{{> contractPartial }}
{{/entities}}

templates:
{{#templateEntities}}
  - kind: ethereum/contract
    name: {{name}}
    network: {{=<% %>=}}{{ ethereum.network }}<%={{ }}=%>
    source:
      abi: {{name}}
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/{{name}}.ts
      entities:
      {{#events}}
        - {{name}}
      {{/events}}
      abis:
        - name: {{name}}
          file: ./abis/{{name}}.json
      eventHandlers:
      {{#events}}
        - event: {{inputs}}
          handler: handle{{name}}
      {{/events}}
{{/templateEntities}}
