(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{516:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return O}));var n=a(0),s=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var l=s.a.createContext({}),u=function(e){var t=s.a.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},d=function(e){var t=u(e.components);return s.a.createElement(l.Provider,{value:t},e.children)},o={inlineCode:"code",wrapper:function(e){var t=e.children;return s.a.createElement(s.a.Fragment,{},t)}},y=s.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,c=e.parentName,l=b(e,["components","mdxType","originalType","parentName"]),d=u(a),y=n,O=d["".concat(c,".").concat(y)]||d[y]||o[y]||i;return a?s.a.createElement(O,r(r({ref:t},l),{},{components:a})):s.a.createElement(O,r({ref:t},l))}));function O(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,c=new Array(i);c[0]=y;var r={};for(var b in t)hasOwnProperty.call(t,b)&&(r[b]=t[b]);r.originalType=e,r.mdxType="string"==typeof e?e:n,c[1]=r;for(var l=2;l<i;l++)c[l]=a[l];return s.a.createElement.apply(null,c)}return s.a.createElement.apply(null,a)}y.displayName="MDXCreateElement"},70:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return r})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return u}));var n=a(2),s=a(6),i=(a(0),a(516)),c={title:"Gsn"},r={unversionedId:"api/contracts/gsn",id:"api/contracts/gsn",isDocsHomePage:!1,title:"Gsn",description:"Contracts",source:"@site/../docs/api/contracts/gsn.md",permalink:"/docs/api/contracts/gsn",editUrl:"https://github.com/AugurProject/augur/edit/documentation/augur.sh/../docs/api/contracts/gsn.md"},b=[{value:"Contracts",id:"contracts",children:[{value:"<code>ECDSA</code>",id:"ecdsa",children:[]},{value:"<code>GsnUtils</code>",id:"gsnutils",children:[]},{value:"<code>IRelayHub</code>",id:"irelayhub",children:[]},{value:"<code>IRelayRecipient</code>",id:"irelayrecipient",children:[]},{value:"<code>LibBytes</code>",id:"libbytes",children:[]},{value:"<code>RLPReader</code>",id:"rlpreader",children:[]},{value:"<code>RelayHub</code>",id:"relayhub",children:[]},{value:"<code>SafeMath</code>",id:"safemath",children:[]}]}],l={rightToc:b};function u(e){var t=e.components,a=Object(s.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("div",{class:"contracts"},Object(i.b)("h2",{id:"contracts"},"Contracts"),Object(i.b)("h3",{id:"ecdsa"},Object(i.b)("inlineCode",{parentName:"h3"},"ECDSA")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#ECDSA.recover(bytes32,bytes)"},Object(i.b)("code",{class:"function-signature"},"recover(bytes32 hash, bytes signature)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#ECDSA.toEthSignedMessageHash(bytes32)"},Object(i.b)("code",{class:"function-signature"},"toEthSignedMessageHash(bytes32 hash)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"ECDSA.recover(bytes32,bytes)"}),Object(i.b)("code",{class:"function-signature"},"recover(bytes32 hash, bytes signature) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"address")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the address that signed a hashed message (",Object(i.b)("inlineCode",{parentName:"p"},"hash"),") with\n",Object(i.b)("inlineCode",{parentName:"p"},"signature"),". This address can then be used for verification purposes."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"ecrecover")," EVM opcode allows for malleable (non-unique) signatures:\nthis function rejects them by requiring the ",Object(i.b)("inlineCode",{parentName:"p"},"s")," value to be in the lower\nhalf order, and the ",Object(i.b)("inlineCode",{parentName:"p"},"v")," value to be either 27 or 28."),Object(i.b)("p",null,"(.note) This call ",Object(i.b)("em",{parentName:"p"},"does not revert")," if the signature is invalid, or\nif the signer is otherwise unable to be retrieved. In those scenarios,\nthe zero address is returned."),Object(i.b)("p",null,"(.warning) ",Object(i.b)("inlineCode",{parentName:"p"},"hash")," ",Object(i.b)("em",{parentName:"p"},"must")," be the result of a hash operation for the\nverification to be secure: it is possible to craft signatures that\nrecover to arbitrary addresses for non-hashed data. A safe way to ensure\nthis is by receiving a hash of the original message (which may otherwise)\nbe too long), and then calling ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ECDSA.toEthSignedMessageHash(bytes32)"}),Object(i.b)("inlineCode",{parentName:"a"},"toEthSignedMessageHash"))," on it."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"ECDSA.toEthSignedMessageHash(bytes32)"}),Object(i.b)("code",{class:"function-signature"},"toEthSignedMessageHash(bytes32 hash) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes32")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns an Ethereum Signed Message, created from a ",Object(i.b)("inlineCode",{parentName:"p"},"hash"),". This\nreplicates the behavior of the\n",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign"}),Object(i.b)("inlineCode",{parentName:"a"},"eth_sign")),"\nJSON-RPC method."),Object(i.b)("p",null,"See ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#ECDSA.recover(bytes32,bytes)"}),Object(i.b)("inlineCode",{parentName:"a"},"recover")),"."),Object(i.b)("h3",{id:"gsnutils"},Object(i.b)("inlineCode",{parentName:"h3"},"GsnUtils")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#GsnUtils.getMethodSig(bytes)"},Object(i.b)("code",{class:"function-signature"},"getMethodSig(bytes msgData)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#GsnUtils.getParam(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"getParam(bytes msgData, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#GsnUtils.getBytesParam(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"getBytesParam(bytes msgData, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#GsnUtils.getStringParam(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"getStringParam(bytes msgData, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#GsnUtils.checkSig(address,bytes32,bytes)"},Object(i.b)("code",{class:"function-signature"},"checkSig(address signer, bytes32 hash, bytes sig)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"GsnUtils.getMethodSig(bytes)"}),Object(i.b)("code",{class:"function-signature"},"getMethodSig(bytes msgData) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes4")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"GsnUtils.getParam(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"getParam(bytes msgData, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"GsnUtils.getBytesParam(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"getBytesParam(bytes msgData, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"GsnUtils.getStringParam(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"getStringParam(bytes msgData, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"string")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"GsnUtils.checkSig(address,bytes32,bytes)"}),Object(i.b)("code",{class:"function-signature"},"checkSig(address signer, bytes32 hash, bytes sig) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bool")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h3",{id:"irelayhub"},Object(i.b)("inlineCode",{parentName:"h3"},"IRelayHub")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.stake(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"stake(address relayaddr, uint256 unstakeDelay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.registerRelay(uint256,string)"},Object(i.b)("code",{class:"function-signature"},"registerRelay(uint256 transactionFee, string url)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.removeRelayByOwner(address)"},Object(i.b)("code",{class:"function-signature"},"removeRelayByOwner(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.unstake(address)"},Object(i.b)("code",{class:"function-signature"},"unstake(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.getRelay(address)"},Object(i.b)("code",{class:"function-signature"},"getRelay(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.depositFor(address)"},Object(i.b)("code",{class:"function-signature"},"depositFor(address target)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.balanceOf(address)"},Object(i.b)("code",{class:"function-signature"},"balanceOf(address target)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.withdraw(uint256,address payable)"},Object(i.b)("code",{class:"function-signature"},"withdraw(uint256 amount, address payable dest)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"relayCall(address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.requiredGas(uint256)"},Object(i.b)("code",{class:"function-signature"},"requiredGas(uint256 relayedCallStipend)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.maxPossibleCharge(uint256,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.penalizeIllegalTransaction(bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"penalizeIllegalTransaction(bytes unsignedTx, bytes signature)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.getNonce(address)"},Object(i.b)("code",{class:"function-signature"},"getNonce(address from)")))),Object(i.b)("span",{class:"contract-index-title"},"Events"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.Staked(address,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"Staked(address relay, uint256 stake, uint256 unstakeDelay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"},Object(i.b)("code",{class:"function-signature"},"RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.RelayRemoved(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"RelayRemoved(address relay, uint256 unstakeTime)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.Unstaked(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Unstaked(address relay, uint256 stake)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.Deposited(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Deposited(address recipient, address from, uint256 amount)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.Withdrawn(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Withdrawn(address account, address dest, uint256 amount)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"},Object(i.b)("code",{class:"function-signature"},"CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"},Object(i.b)("code",{class:"function-signature"},"TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayHub.Penalized(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Penalized(address relay, address sender, uint256 amount)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.stake(address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"stake(address relayaddr, uint256 unstakeDelay)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Adds stake to a relay and sets its ",Object(i.b)("inlineCode",{parentName:"p"},"unstakeDelay"),". If the relay does not exist, it is created, and the caller\nof this function becomes its owner. If the relay already exists, only the owner can call this function. A relay\ncannot be its own owner."),Object(i.b)("p",null,"All Ether in this function call will be added to the relay","'","s stake.\nIts unstake delay will be assigned to ",Object(i.b)("inlineCode",{parentName:"p"},"unstakeDelay"),", but the new value must be greater or equal to the current one."),Object(i.b)("p",null,"Emits a {Staked} event."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.registerRelay(uint256,string)"}),Object(i.b)("code",{class:"function-signature"},"registerRelay(uint256 transactionFee, string url)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Registers the caller as a relay.\nThe relay must be staked for, and not be a contract (i.e. this function must be called directly from an EOA)."),Object(i.b)("p",null,"This function can be called multiple times, emitting new {RelayAdded} events. Note that the received\n",Object(i.b)("inlineCode",{parentName:"p"},"transactionFee")," is not enforced by {relayCall}."),Object(i.b)("p",null,"Emits a {RelayAdded} event."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.removeRelayByOwner(address)"}),Object(i.b)("code",{class:"function-signature"},"removeRelayByOwner(address relay)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Removes (deregisters) a relay. Unregistered (but staked for) relays can also be removed."),Object(i.b)("p",null,"Can only be called by the owner of the relay. After the relay","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"unstakeDelay")," has elapsed, {unstake} will be\ncallable."),Object(i.b)("p",null,"Emits a {RelayRemoved} event."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.unstake(address)"}),Object(i.b)("code",{class:"function-signature"},"unstake(address relay)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.getRelay(address)"}),Object(i.b)("code",{class:"function-signature"},"getRelay(address relay) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,uint256,uint256,address payable,enum IRelayHub.RelayState")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns a relay","'","s status. Note that relays can be deleted when unstaked or penalized, causing this function\nto return an empty entry."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.depositFor(address)"}),Object(i.b)("code",{class:"function-signature"},"depositFor(address target)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Deposits Ether for a contract, so that it can receive (and pay for) relayed transactions."),Object(i.b)("p",null,"Unused balance can only be withdrawn by the contract itself, by calling {withdraw}."),Object(i.b)("p",null,"Emits a {Deposited} event."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.balanceOf(address)"}),Object(i.b)("code",{class:"function-signature"},"balanceOf(address target) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns an account","'","s deposits. These can be either a contracts","'","s funds, or a relay owner","'","s revenue."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.withdraw(uint256,address payable)"}),Object(i.b)("code",{class:"function-signature"},"withdraw(uint256 amount, address payable dest)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,bytes")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Checks if the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#relayhub"}),Object(i.b)("inlineCode",{parentName:"a"},"RelayHub"))," will accept a relayed operation.\nMultiple things must be true for this to happen:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"all arguments must be signed for by the sender (",Object(i.b)("inlineCode",{parentName:"li"},"from"),")"),Object(i.b)("li",{parentName:"ul"},"the sender","'","s nonce must be the current one"),Object(i.b)("li",{parentName:"ul"},"the recipient must accept this transaction (via {acceptRelayedCall})")),Object(i.b)("p",null,"Returns a ",Object(i.b)("inlineCode",{parentName:"p"},"PreconditionCheck")," value (",Object(i.b)("inlineCode",{parentName:"p"},"OK")," when the transaction can be relayed), or a recipient-specific error\ncode if it returns one in {acceptRelayedCall}."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"relayCall(address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Relays a transaction."),Object(i.b)("p",null,"For this to succeed, multiple conditions must be met:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"{canRelay} must ",Object(i.b)("inlineCode",{parentName:"li"},"return PreconditionCheck.OK")),Object(i.b)("li",{parentName:"ul"},"the sender must be a registered relay"),Object(i.b)("li",{parentName:"ul"},"the transaction","'","s gas price must be larger or equal to the one that was requested by the sender"),Object(i.b)("li",{parentName:"ul"},"the transaction must have enough gas to not run out of gas if all internal transactions (calls to the\nrecipient) use all gas available to them"),Object(i.b)("li",{parentName:"ul"},"the recipient must have enough balance to pay the relay for the worst-case scenario (i.e. when all gas is\nspent)")),Object(i.b)("p",null,"If all conditions are met, the call will be relayed and the recipient charged. {preRelayedCall}, the encoded\nfunction and {postRelayedCall} will be called in that order."),Object(i.b)("p",null,"Parameters:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"from"),": the client originating the request"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"to"),": the target {IRelayRecipient} contract"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"encodedFunction"),": the function call to relay, including data"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"transactionFee"),": fee (%) the relay takes over actual gas cost"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gasPrice"),": gas price the client is willing to pay"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"gasLimit"),": gas to forward when calling the encoded function"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"nonce"),": client","'","s nonce"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"signature"),": client","'","s signature over all previous params, plus the relay and RelayHub addresses"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"approvalData"),": dapp-specific data forwared to {acceptRelayedCall}. This value is ",Object(i.b)("em",{parentName:"li"},"not")," verified by the\n",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"#relayhub"}),Object(i.b)("inlineCode",{parentName:"a"},"RelayHub")),", but it still can be used for e.g. a signature.")),Object(i.b)("p",null,"Emits a {TransactionRelayed} event."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.requiredGas(uint256)"}),Object(i.b)("code",{class:"function-signature"},"requiredGas(uint256 relayedCallStipend) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns how much gas should be forwarded to a call to {relayCall}, in order to relay a transaction that will\nspend up to ",Object(i.b)("inlineCode",{parentName:"p"},"relayedCallStipend")," gas."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.maxPossibleCharge(uint256,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns the maximum recipient charge, given the amount of gas forwarded, gas price and relay fee."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Penalize a relay that signed two transactions using the same nonce (making only the first one valid) and\ndifferent data (gas price, gas limit, etc. may be different)."),Object(i.b)("p",null,"The (unsigned) transaction data and signature for both transactions must be provided."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.penalizeIllegalTransaction(bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"penalizeIllegalTransaction(bytes unsignedTx, bytes signature)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Penalize a relay that sent a transaction that didn","'","t target ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#relayhub"}),Object(i.b)("inlineCode",{parentName:"a"},"RelayHub")),"'","s {registerRelay} or {relayCall}."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.getNonce(address)"}),Object(i.b)("code",{class:"function-signature"},"getNonce(address from) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns an account","'","s nonce in ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#relayhub"}),Object(i.b)("inlineCode",{parentName:"a"},"RelayHub")),"."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.Staked(address,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"Staked(address relay, uint256 stake, uint256 unstakeDelay)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a relay","'","s stake or unstakeDelay are increased"),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"}),Object(i.b)("code",{class:"function-signature"},"RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a relay is registered or re-registerd. Looking at these events (and filtering out\n{RelayRemoved} events) lets a client discover the list of available relays."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.RelayRemoved(address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"RelayRemoved(address relay, uint256 unstakeTime)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a relay is removed (deregistered). ",Object(i.b)("inlineCode",{parentName:"p"},"unstakeTime")," is the time when unstake will be callable."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.Unstaked(address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"Unstaked(address relay, uint256 stake)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a relay is unstaked for, including the returned stake."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.Deposited(address,address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"Deposited(address recipient, address from, uint256 amount)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when {depositFor} is called, including the amount and account that was funded."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.Withdrawn(address,address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"Withdrawn(address account, address dest, uint256 amount)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when an account withdraws funds from ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"#relayhub"}),Object(i.b)("inlineCode",{parentName:"a"},"RelayHub")),"."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"}),Object(i.b)("code",{class:"function-signature"},"CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when an attempt to relay a call failed."),Object(i.b)("p",null,"This can happen due to incorrect {relayCall} arguments, or the recipient not accepting the relayed call. The\nactual relayed call was not executed, and the recipient not charged."),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"reason")," parameter contains an error code: values 1-10 correspond to ",Object(i.b)("inlineCode",{parentName:"p"},"PreconditionCheck")," entries, and values\nover 10 are custom recipient error codes returned from {acceptRelayedCall}."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"}),Object(i.b)("code",{class:"function-signature"},"TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a transaction is relayed.\nUseful when monitoring a relay","'","s operation and relayed calls to a contract"),Object(i.b)("p",null,"Note that the actual encoded function might be reverted: this is indicated in the ",Object(i.b)("inlineCode",{parentName:"p"},"status")," parameter."),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"charge")," is the Ether value deducted from the recipient","'","s balance, paid to the relay","'","s owner."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayHub.Penalized(address,address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"Penalized(address relay, address sender, uint256 amount)"),Object(i.b)("span",{class:"function-visibility"})),Object(i.b)("p",null,"Emitted when a relay is penalized."),Object(i.b)("h3",{id:"irelayrecipient"},Object(i.b)("inlineCode",{parentName:"h3"},"IRelayRecipient")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayRecipient.getHubAddr()"},Object(i.b)("code",{class:"function-signature"},"getHubAddr()"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayRecipient.acceptRelayedCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"acceptRelayedCall(address relay, address from, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes approvalData, uint256 maxPossibleCharge)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayRecipient.preRelayedCall(bytes)"},Object(i.b)("code",{class:"function-signature"},"preRelayedCall(bytes context)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#IRelayRecipient.postRelayedCall(bytes,bool,uint256,bytes32)"},Object(i.b)("code",{class:"function-signature"},"postRelayedCall(bytes context, bool success, uint256 actualCharge, bytes32 preRetVal)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayRecipient.getHubAddr()"}),Object(i.b)("code",{class:"function-signature"},"getHubAddr() ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"address")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Returns the address of the {IRelayHub} instance this recipient interacts with."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayRecipient.acceptRelayedCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"acceptRelayedCall(address relay, address from, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes approvalData, uint256 maxPossibleCharge) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,bytes")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Called by {IRelayHub} to validate if this recipient accepts being charged for a relayed call. Note that the\nrecipient will be charged regardless of the execution result of the relayed call (i.e. if it reverts or not)."),Object(i.b)("p",null,"The relay request was originated by ",Object(i.b)("inlineCode",{parentName:"p"},"from")," and will be served by ",Object(i.b)("inlineCode",{parentName:"p"},"relay"),". ",Object(i.b)("inlineCode",{parentName:"p"},"encodedFunction")," is the relayed call\ncalldata, so its first four bytes are the function selector. The relayed call will be forwarded ",Object(i.b)("inlineCode",{parentName:"p"},"gasLimit")," gas,\nand the transaction executed with a gas price of at least ",Object(i.b)("inlineCode",{parentName:"p"},"gasPrice"),". ",Object(i.b)("inlineCode",{parentName:"p"},"relay"),"'","s fee is ",Object(i.b)("inlineCode",{parentName:"p"},"transactionFee"),", and the\nrecipient will be charged at most ",Object(i.b)("inlineCode",{parentName:"p"},"maxPossibleCharge")," (in wei). ",Object(i.b)("inlineCode",{parentName:"p"},"nonce")," is the sender","'","s (",Object(i.b)("inlineCode",{parentName:"p"},"from"),") nonce for\nreplay attack protection in {IRelayHub}, and ",Object(i.b)("inlineCode",{parentName:"p"},"approvalData")," is a optional parameter that can be used to hold a signature\nover all or some of the previous values."),Object(i.b)("p",null,"Returns a tuple, where the first value is used to indicate approval (0) or rejection (custom non-zero error code,\nvalues 1 to 10 are reserved) and the second one is data to be passed to the other {IRelayRecipient} functions."),Object(i.b)("p",null,"{acceptRelayedCall} is called with 50k gas: if it runs out during execution, the request will be considered\nrejected. A regular revert will also trigger a rejection."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayRecipient.preRelayedCall(bytes)"}),Object(i.b)("code",{class:"function-signature"},"preRelayedCall(bytes context) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes32")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Called by {IRelayHub} on approved relay call requests, before the relayed call is executed. This allows to e.g.\npre-charge the sender of the transaction."),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"context")," is the second value returned in the tuple by {acceptRelayedCall}."),Object(i.b)("p",null,"Returns a value to be passed to {postRelayedCall}."),Object(i.b)("p",null,"{preRelayedCall} is called with 100k gas: if it runs out during exection or otherwise reverts, the relayed call\nwill not be executed, but the recipient will still be charged for the transaction","'","s cost."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"IRelayRecipient.postRelayedCall(bytes,bool,uint256,bytes32)"}),Object(i.b)("code",{class:"function-signature"},"postRelayedCall(bytes context, bool success, uint256 actualCharge, bytes32 preRetVal)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("p",null,"Called by {IRelayHub} on approved relay call requests, after the relayed call is executed. This allows to e.g.\ncharge the user for the relayed call costs, return any overcharges from {preRelayedCall}, or perform\ncontract-specific bookkeeping."),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"context")," is the second value returned in the tuple by {acceptRelayedCall}. ",Object(i.b)("inlineCode",{parentName:"p"},"success")," is the execution status of\nthe relayed call. ",Object(i.b)("inlineCode",{parentName:"p"},"actualCharge")," is an estimate of how much the recipient will be charged for the transaction,\nnot including any gas used by {postRelayedCall} itself. ",Object(i.b)("inlineCode",{parentName:"p"},"preRetVal")," is {preRelayedCall}","'","s return value."),Object(i.b)("p",null,"{postRelayedCall} is called with 100k gas: if it runs out during execution or otherwise reverts, the relayed call\nand the call to {preRelayedCall} will be reverted retroactively, but the recipient will still be charged for the\ntransaction","'","s cost."),Object(i.b)("h3",{id:"libbytes"},Object(i.b)("inlineCode",{parentName:"h3"},"LibBytes")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.rawAddress(bytes)"},Object(i.b)("code",{class:"function-signature"},"rawAddress(bytes input)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.contentAddress(bytes)"},Object(i.b)("code",{class:"function-signature"},"contentAddress(bytes input)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.memCopy(uint256,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"memCopy(uint256 dest, uint256 source, uint256 length)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.slice(bytes,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"slice(bytes b, uint256 from, uint256 to)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.sliceDestructive(bytes,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"sliceDestructive(bytes b, uint256 from, uint256 to)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.popLastByte(bytes)"},Object(i.b)("code",{class:"function-signature"},"popLastByte(bytes b)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.equals(bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"equals(bytes lhs, bytes rhs)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.readAddress(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"readAddress(bytes b, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.writeAddress(bytes,uint256,address)"},Object(i.b)("code",{class:"function-signature"},"writeAddress(bytes b, uint256 index, address input)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.readBytes32(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"readBytes32(bytes b, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.writeBytes32(bytes,uint256,bytes32)"},Object(i.b)("code",{class:"function-signature"},"writeBytes32(bytes b, uint256 index, bytes32 input)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.readUint256(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"readUint256(bytes b, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.writeUint256(bytes,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"writeUint256(bytes b, uint256 index, uint256 input)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.readBytes4(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"readBytes4(bytes b, uint256 index)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#LibBytes.writeLength(bytes,uint256)"},Object(i.b)("code",{class:"function-signature"},"writeLength(bytes b, uint256 length)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.rawAddress(bytes)"}),Object(i.b)("code",{class:"function-signature"},"rawAddress(bytes input) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Gets the memory address for a byte array.\n@param input Byte array to lookup.\n@return memoryAddress Memory address of byte array. This\npoints to the header of the byte array which contains\nthe length."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.contentAddress(bytes)"}),Object(i.b)("code",{class:"function-signature"},"contentAddress(bytes input) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Gets the memory address for the contents of a byte array.\n@param input Byte array to lookup.\n@return memoryAddress Memory address of the contents of the byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.memCopy(uint256,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"memCopy(uint256 dest, uint256 source, uint256 length)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Copies ",Object(i.b)("inlineCode",{parentName:"p"},"length")," bytes from memory location ",Object(i.b)("inlineCode",{parentName:"p"},"source")," to ",Object(i.b)("inlineCode",{parentName:"p"},"dest"),".\n@param dest memory address to copy bytes to.\n@param source memory address to copy bytes from.\n@param length number of bytes to copy."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.slice(bytes,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"slice(bytes b, uint256 from, uint256 to) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns a slices from a byte array.\n@param b The byte array to take a slice from.\n@param from The starting index for the slice (inclusive).\n@param to The final index for the slice (exclusive).\n@return result The slice containing bytes at indices [from, to)"),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.sliceDestructive(bytes,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"sliceDestructive(bytes b, uint256 from, uint256 to) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns a slice from a byte array without preserving the input.\n@param b The byte array to take a slice from. Will be destroyed in the process.\n@param from The starting index for the slice (inclusive).\n@param to The final index for the slice (exclusive).\n@return result The slice containing bytes at indices [from, to)\n@dev When ",Object(i.b)("inlineCode",{parentName:"p"},"from == 0"),", the original array will match the slice. In other cases its state will be corrupted."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.popLastByte(bytes)"}),Object(i.b)("code",{class:"function-signature"},"popLastByte(bytes b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes1")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Pops the last byte off of a byte array by modifying its length.\n@param b Byte array that will be modified.\n@return The byte that was popped off."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.equals(bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"equals(bytes lhs, bytes rhs) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bool")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Tests equality of two byte arrays.\n@param lhs First byte array to compare.\n@param rhs Second byte array to compare.\n@return True if arrays are the same. False otherwise."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.readAddress(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"readAddress(bytes b, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"address")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Reads an address from a position in a byte array.\n@param b Byte array containing an address.\n@param index Index in byte array of address.\n@return address from byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.writeAddress(bytes,uint256,address)"}),Object(i.b)("code",{class:"function-signature"},"writeAddress(bytes b, uint256 index, address input)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Writes an address into a specific position in a byte array.\n@param b Byte array to insert address into.\n@param index Index in byte array of address.\n@param input Address to put into byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.readBytes32(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"readBytes32(bytes b, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes32")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Reads a bytes32 value from a position in a byte array.\n@param b Byte array containing a bytes32 value.\n@param index Index in byte array of bytes32 value.\n@return bytes32 value from byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.writeBytes32(bytes,uint256,bytes32)"}),Object(i.b)("code",{class:"function-signature"},"writeBytes32(bytes b, uint256 index, bytes32 input)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Writes a bytes32 into a specific position in a byte array.\n@param b Byte array to insert ","<","input",">"," into.\n@param index Index in byte array of ","<","input",">",".\n@param input bytes32 to put into byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.readUint256(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"readUint256(bytes b, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Reads a uint256 value from a position in a byte array.\n@param b Byte array containing a uint256 value.\n@param index Index in byte array of uint256 value.\n@return uint256 value from byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.writeUint256(bytes,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"writeUint256(bytes b, uint256 index, uint256 input)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Writes a uint256 into a specific position in a byte array.\n@param b Byte array to insert ","<","input",">"," into.\n@param index Index in byte array of ","<","input",">",".\n@param input uint256 to put into byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.readBytes4(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"readBytes4(bytes b, uint256 index) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes4")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Reads an unpadded bytes4 value from a position in a byte array.\n@param b Byte array containing a bytes4 value.\n@param index Index in byte array of bytes4 value.\n@return bytes4 value from byte array."),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"LibBytes.writeLength(bytes,uint256)"}),Object(i.b)("code",{class:"function-signature"},"writeLength(bytes b, uint256 length)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Writes a new length to a byte array.\nDecreasing length will lead to removing the corresponding lower order bytes from the byte array.\nIncreasing length may lead to appending adjacent in-memory bytes to the end of the byte array.\n@param b Bytes array to write new length to.\n@param length New length of byte array."),Object(i.b)("h3",{id:"rlpreader"},Object(i.b)("inlineCode",{parentName:"h3"},"RLPReader")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.decodeTransaction(bytes)"},Object(i.b)("code",{class:"function-signature"},"decodeTransaction(bytes rawTransaction)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toRlpItem(bytes)"},Object(i.b)("code",{class:"function-signature"},"toRlpItem(bytes item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toList(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toList(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.isList(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"isList(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.numItems(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"numItems(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader._itemLength(uint256)"},Object(i.b)("code",{class:"function-signature"},"_itemLength(uint256 memPtr)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader._payloadOffset(uint256)"},Object(i.b)("code",{class:"function-signature"},"_payloadOffset(uint256 memPtr)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toRlpBytes(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toRlpBytes(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toBoolean(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toBoolean(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toAddress(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toAddress(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toUint(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toUint(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.toBytes(struct RLPReader.RLPItem)"},Object(i.b)("code",{class:"function-signature"},"toBytes(struct RLPReader.RLPItem item)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RLPReader.copy(uint256,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"copy(uint256 src, uint256 dest, uint256 len)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.decodeTransaction(bytes)"}),Object(i.b)("code",{class:"function-signature"},"decodeTransaction(bytes rawTransaction) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,uint256,uint256,address,uint256,bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toRlpItem(bytes)"}),Object(i.b)("code",{class:"function-signature"},"toRlpItem(bytes item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"struct RLPReader.RLPItem")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toList(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toList(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"struct RLPReader.RLPItem[]")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.isList(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"isList(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bool")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.numItems(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"numItems(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader._itemLength(uint256)"}),Object(i.b)("code",{class:"function-signature"},"_itemLength(uint256 memPtr) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader._payloadOffset(uint256)"}),Object(i.b)("code",{class:"function-signature"},"_payloadOffset(uint256 memPtr) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toRlpBytes(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toRlpBytes(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toBoolean(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toBoolean(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bool")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toAddress(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toAddress(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"address")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toUint(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toUint(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.toBytes(struct RLPReader.RLPItem)"}),Object(i.b)("code",{class:"function-signature"},"toBytes(struct RLPReader.RLPItem item) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bytes")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RLPReader.copy(uint256,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"copy(uint256 src, uint256 dest, uint256 len)"),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("h3",{id:"relayhub"},Object(i.b)("inlineCode",{parentName:"h3"},"RelayHub")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.stake(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"stake(address relay, uint256 unstakeDelay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.registerRelay(uint256,string)"},Object(i.b)("code",{class:"function-signature"},"registerRelay(uint256 transactionFee, string url)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.removeRelayByOwner(address)"},Object(i.b)("code",{class:"function-signature"},"removeRelayByOwner(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.unstake(address)"},Object(i.b)("code",{class:"function-signature"},"unstake(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.getRelay(address)"},Object(i.b)("code",{class:"function-signature"},"getRelay(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.depositFor(address)"},Object(i.b)("code",{class:"function-signature"},"depositFor(address target)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.balanceOf(address)"},Object(i.b)("code",{class:"function-signature"},"balanceOf(address target)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.withdraw(uint256,address payable)"},Object(i.b)("code",{class:"function-signature"},"withdraw(uint256 amount, address payable dest)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.getNonce(address)"},Object(i.b)("code",{class:"function-signature"},"getNonce(address from)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.canUnstake(address)"},Object(i.b)("code",{class:"function-signature"},"canUnstake(address relay)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"relayCall(address from, address recipient, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.recipientCallsAtomic(address,bytes,uint256,uint256,uint256,uint256,bytes)"},Object(i.b)("code",{class:"function-signature"},"recipientCallsAtomic(address recipient, bytes encodedFunctionWithFrom, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 preChecksGas, bytes recipientContext)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.requiredGas(uint256)"},Object(i.b)("code",{class:"function-signature"},"requiredGas(uint256 relayedCallStipend)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.maxPossibleCharge(uint256,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#RelayHub.penalizeIllegalTransaction(bytes,bytes)"},Object(i.b)("code",{class:"function-signature"},"penalizeIllegalTransaction(bytes unsignedTx, bytes signature)")))),Object(i.b)("span",{class:"contract-index-title"},"Events"),Object(i.b)("ul",null,Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.Staked(address,uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"Staked(address relay, uint256 stake, uint256 unstakeDelay)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"},Object(i.b)("code",{class:"function-signature"},"RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.RelayRemoved(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"RelayRemoved(address relay, uint256 unstakeTime)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.Unstaked(address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Unstaked(address relay, uint256 stake)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.Deposited(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Deposited(address recipient, address from, uint256 amount)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.Withdrawn(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Withdrawn(address account, address dest, uint256 amount)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"},Object(i.b)("code",{class:"function-signature"},"CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"},Object(i.b)("code",{class:"function-signature"},"TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)"))),Object(i.b)("li",{class:"inherited"},Object(i.b)("a",{href:"gsn#IRelayHub.Penalized(address,address,uint256)"},Object(i.b)("code",{class:"function-signature"},"Penalized(address relay, address sender, uint256 amount)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.stake(address,uint256)"}),Object(i.b)("code",{class:"function-signature"},"stake(address relay, uint256 unstakeDelay)"),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.registerRelay(uint256,string)"}),Object(i.b)("code",{class:"function-signature"},"registerRelay(uint256 transactionFee, string url)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.removeRelayByOwner(address)"}),Object(i.b)("code",{class:"function-signature"},"removeRelayByOwner(address relay)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.unstake(address)"}),Object(i.b)("code",{class:"function-signature"},"unstake(address relay)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.getRelay(address)"}),Object(i.b)("code",{class:"function-signature"},"getRelay(address relay) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,uint256,uint256,address payable,enum IRelayHub.RelayState")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.depositFor(address)"}),Object(i.b)("code",{class:"function-signature"},"depositFor(address target)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.balanceOf(address)"}),Object(i.b)("code",{class:"function-signature"},"balanceOf(address target) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.withdraw(uint256,address payable)"}),Object(i.b)("code",{class:"function-signature"},"withdraw(uint256 amount, address payable dest)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.getNonce(address)"}),Object(i.b)("code",{class:"function-signature"},"getNonce(address from) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.canUnstake(address)"}),Object(i.b)("code",{class:"function-signature"},"canUnstake(address relay) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"bool")),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256,bytes")),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"relayCall(address from, address recipient, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.recipientCallsAtomic(address,bytes,uint256,uint256,uint256,uint256,bytes)"}),Object(i.b)("code",{class:"function-signature"},"recipientCallsAtomic(address recipient, bytes encodedFunctionWithFrom, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 preChecksGas, bytes recipientContext) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"enum IRelayHub.RelayCallStatus")),Object(i.b)("span",{class:"function-visibility"},"external")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.requiredGas(uint256)"}),Object(i.b)("code",{class:"function-signature"},"requiredGas(uint256 relayedCallStipend) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.maxPossibleCharge(uint256,uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"RelayHub.penalizeIllegalTransaction(bytes,bytes)"}),Object(i.b)("code",{class:"function-signature"},"penalizeIllegalTransaction(bytes unsignedTx, bytes signature)"),Object(i.b)("span",{class:"function-visibility"},"public")),Object(i.b)("h3",{id:"safemath"},Object(i.b)("inlineCode",{parentName:"h3"},"SafeMath")),Object(i.b)("div",{class:"contract-index"},Object(i.b)("span",{class:"contract-index-title"},"Functions"),Object(i.b)("ul",null,Object(i.b)("li",null,Object(i.b)("a",{href:"#SafeMath.add(uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"add(uint256 a, uint256 b)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#SafeMath.sub(uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"sub(uint256 a, uint256 b)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#SafeMath.mul(uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"mul(uint256 a, uint256 b)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#SafeMath.div(uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"div(uint256 a, uint256 b)"))),Object(i.b)("li",null,Object(i.b)("a",{href:"#SafeMath.mod(uint256,uint256)"},Object(i.b)("code",{class:"function-signature"},"mod(uint256 a, uint256 b)"))))),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"SafeMath.add(uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"add(uint256 a, uint256 b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the addition of two unsigned integers, reverting on\noverflow."),Object(i.b)("p",null,"Counterpart to Solidity","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"+")," operator."),Object(i.b)("p",null,"Requirements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Addition cannot overflow.")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"SafeMath.sub(uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"sub(uint256 a, uint256 b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the subtraction of two unsigned integers, reverting on\noverflow (when the result is negative)."),Object(i.b)("p",null,"Counterpart to Solidity","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"-")," operator."),Object(i.b)("p",null,"Requirements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Subtraction cannot overflow.")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"SafeMath.mul(uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"mul(uint256 a, uint256 b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the multiplication of two unsigned integers, reverting on\noverflow."),Object(i.b)("p",null,"Counterpart to Solidity","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"*")," operator."),Object(i.b)("p",null,"Requirements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Multiplication cannot overflow.")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"SafeMath.div(uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"div(uint256 a, uint256 b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the integer division of two unsigned integers. Reverts on\ndivision by zero. The result is rounded towards zero."),Object(i.b)("p",null,"Counterpart to Solidity","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"/")," operator. Note: this function uses a\n",Object(i.b)("inlineCode",{parentName:"p"},"revert")," opcode (which leaves remaining gas untouched) while Solidity\nuses an invalid opcode to revert (consuming all remaining gas)."),Object(i.b)("p",null,"Requirements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The divisor cannot be zero.")),Object(i.b)("h4",null,Object(i.b)("a",{class:"anchor","aria-hidden":"true",id:"SafeMath.mod(uint256,uint256)"}),Object(i.b)("code",{class:"function-signature"},"mod(uint256 a, uint256 b) ",Object(i.b)("span",{class:"return-arrow"},"\u2192")," ",Object(i.b)("span",{class:"return-type"},"uint256")),Object(i.b)("span",{class:"function-visibility"},"internal")),Object(i.b)("p",null,"Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\nReverts when dividing by zero."),Object(i.b)("p",null,"Counterpart to Solidity","'","s ",Object(i.b)("inlineCode",{parentName:"p"},"%")," operator. This function uses a ",Object(i.b)("inlineCode",{parentName:"p"},"revert"),"\nopcode (which leaves remaining gas untouched) while Solidity uses an\ninvalid opcode to revert (consuming all remaining gas)."),Object(i.b)("p",null,"Requirements:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The divisor cannot be zero."))))}u.isMDXComponent=!0}}]);