<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">V 1 | Augur Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="V 1 | Augur Docs"><meta data-react-helmet="true" name="description" content="Contracts"><meta data-react-helmet="true" property="og:description" content="Contracts"><meta data-react-helmet="true" property="og:url" content="https://docs.augur.sh/docs/api/contracts/gsn/v1"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.augur.sh/docs/api/contracts/gsn/v1"><link rel="stylesheet" href="/styles.6eaf09fd.css">
<link rel="preload" href="/styles.943a240c.js" as="script">
<link rel="preload" href="/runtime~main.db2d6edf.js" as="script">
<link rel="preload" href="/main.4e7c697c.js" as="script">
<link rel="preload" href="/1.54979635.js" as="script">
<link rel="preload" href="/2.44cddc75.js" as="script">
<link rel="preload" href="/460.ddafda56.js" as="script">
<link rel="preload" href="/461.f459c302.js" as="script">
<link rel="preload" href="/20ac7829.fdad4d02.js" as="script">
<link rel="preload" href="/17896441.0350ada8.js" as="script">
<link rel="preload" href="/3cc282e7.0be5cf51.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/augur-logo/Glyph/Color.svg" alt="Augur"><strong class="navbar__title">Augur Docs</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/SUMMARY">Overview</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/AugurProject/augur" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/augur-logo/Glyph/Color.svg" alt="Augur"><strong class="navbar__title">Augur Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/SUMMARY">Overview</a></li><li class="menu__list-item"><a href="https://github.com/AugurProject/augur" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">V 1</h1></header><div class="markdown"><div class="contracts"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="contracts"></a>Contracts<a aria-hidden="true" tabindex="-1" class="hash-link" href="#contracts" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ecdsa"></a><code>ECDSA</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ecdsa" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#ECDSA.recover(bytes32,bytes)"><code class="function-signature">recover(bytes32 hash, bytes signature)</code></a></li><li><a href="#ECDSA.toEthSignedMessageHash(bytes32)"><code class="function-signature">toEthSignedMessageHash(bytes32 hash)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="ECDSA.recover(bytes32,bytes)"></a>recover(bytes32 hash, bytes signature) <span class="return-arrow">â†’</span> <span class="return-type">address</span><span class="function-visibility">internal</span></h4><p>Returns the address that signed a hashed message (<code>hash</code>) with
<code>signature</code>. This address can then be used for verification purposes.</p><p>The <code>ecrecover</code> EVM opcode allows for malleable (non-unique) signatures:
this function rejects them by requiring the <code>s</code> value to be in the lower
half order, and the <code>v</code> value to be either 27 or 28.</p><p>(.note) This call <em>does not revert</em> if the signature is invalid, or
if the signer is otherwise unable to be retrieved. In those scenarios,
the zero address is returned.</p><p>(.warning) <code>hash</code> <em>must</em> be the result of a hash operation for the
verification to be secure: it is possible to craft signatures that
recover to arbitrary addresses for non-hashed data. A safe way to ensure
this is by receiving a hash of the original message (which may otherwise)
be too long), and then calling <a href="/docs/api/contracts/gsn/v2#ECDSA.toEthSignedMessageHash(bytes32)"><code>toEthSignedMessageHash</code></a> on it.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="ECDSA.toEthSignedMessageHash(bytes32)"></a>toEthSignedMessageHash(bytes32 hash) <span class="return-arrow">â†’</span> <span class="return-type">bytes32</span><span class="function-visibility">internal</span></h4><p>Returns an Ethereum Signed Message, created from a <code>hash</code>. This
replicates the behavior of the
<a href="https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign" target="_blank" rel="noopener noreferrer"><code>eth_sign</code></a>
JSON-RPC method.</p><p>See <a href="/docs/api/contracts/gsn/v2#ECDSA.recover(bytes32,bytes)"><code>recover</code></a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="gsnutils"></a><code>GsnUtils</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#gsnutils" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#GsnUtils.getMethodSig(bytes)"><code class="function-signature">getMethodSig(bytes msgData)</code></a></li><li><a href="#GsnUtils.getParam(bytes,uint256)"><code class="function-signature">getParam(bytes msgData, uint256 index)</code></a></li><li><a href="#GsnUtils.getBytesParam(bytes,uint256)"><code class="function-signature">getBytesParam(bytes msgData, uint256 index)</code></a></li><li><a href="#GsnUtils.getStringParam(bytes,uint256)"><code class="function-signature">getStringParam(bytes msgData, uint256 index)</code></a></li><li><a href="#GsnUtils.checkSig(address,bytes32,bytes)"><code class="function-signature">checkSig(address signer, bytes32 hash, bytes sig)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="GsnUtils.getMethodSig(bytes)"></a>getMethodSig(bytes msgData) <span class="return-arrow">â†’</span> <span class="return-type">bytes4</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="GsnUtils.getParam(bytes,uint256)"></a>getParam(bytes msgData, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="GsnUtils.getBytesParam(bytes,uint256)"></a>getBytesParam(bytes msgData, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">bytes</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="GsnUtils.getStringParam(bytes,uint256)"></a>getStringParam(bytes msgData, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">string</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="GsnUtils.checkSig(address,bytes32,bytes)"></a>checkSig(address signer, bytes32 hash, bytes sig) <span class="return-arrow">â†’</span> <span class="return-type">bool</span><span class="function-visibility">internal</span></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="irelayhub"></a><code>IRelayHub</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#irelayhub" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#IRelayHub.stake(address,uint256)"><code class="function-signature">stake(address relayaddr, uint256 unstakeDelay)</code></a></li><li><a href="#IRelayHub.registerRelay(uint256,string)"><code class="function-signature">registerRelay(uint256 transactionFee, string url)</code></a></li><li><a href="#IRelayHub.removeRelayByOwner(address)"><code class="function-signature">removeRelayByOwner(address relay)</code></a></li><li><a href="#IRelayHub.unstake(address)"><code class="function-signature">unstake(address relay)</code></a></li><li><a href="#IRelayHub.getRelay(address)"><code class="function-signature">getRelay(address relay)</code></a></li><li><a href="#IRelayHub.depositFor(address)"><code class="function-signature">depositFor(address target)</code></a></li><li><a href="#IRelayHub.balanceOf(address)"><code class="function-signature">balanceOf(address target)</code></a></li><li><a href="#IRelayHub.withdraw(uint256,address payable)"><code class="function-signature">withdraw(uint256 amount, address payable dest)</code></a></li><li><a href="#IRelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"><code class="function-signature">canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code></a></li><li><a href="#IRelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"><code class="function-signature">relayCall(address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code></a></li><li><a href="#IRelayHub.requiredGas(uint256)"><code class="function-signature">requiredGas(uint256 relayedCallStipend)</code></a></li><li><a href="#IRelayHub.maxPossibleCharge(uint256,uint256,uint256)"><code class="function-signature">maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee)</code></a></li><li><a href="#IRelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"><code class="function-signature">penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)</code></a></li><li><a href="#IRelayHub.penalizeIllegalTransaction(bytes,bytes)"><code class="function-signature">penalizeIllegalTransaction(bytes unsignedTx, bytes signature)</code></a></li><li><a href="#IRelayHub.getNonce(address)"><code class="function-signature">getNonce(address from)</code></a></li></ul><span class="contract-index-title">Events</span><ul><li><a href="#IRelayHub.Staked(address,uint256,uint256)"><code class="function-signature">Staked(address relay, uint256 stake, uint256 unstakeDelay)</code></a></li><li><a href="#IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"><code class="function-signature">RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)</code></a></li><li><a href="#IRelayHub.RelayRemoved(address,uint256)"><code class="function-signature">RelayRemoved(address relay, uint256 unstakeTime)</code></a></li><li><a href="#IRelayHub.Unstaked(address,uint256)"><code class="function-signature">Unstaked(address relay, uint256 stake)</code></a></li><li><a href="#IRelayHub.Deposited(address,address,uint256)"><code class="function-signature">Deposited(address recipient, address from, uint256 amount)</code></a></li><li><a href="#IRelayHub.Withdrawn(address,address,uint256)"><code class="function-signature">Withdrawn(address account, address dest, uint256 amount)</code></a></li><li><a href="#IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"><code class="function-signature">CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)</code></a></li><li><a href="#IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"><code class="function-signature">TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)</code></a></li><li><a href="#IRelayHub.Penalized(address,address,uint256)"><code class="function-signature">Penalized(address relay, address sender, uint256 amount)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.stake(address,uint256)"></a><code class="function-signature">stake(address relayaddr, uint256 unstakeDelay)</code><span class="function-visibility">external</span></h4><p>Adds stake to a relay and sets its <code>unstakeDelay</code>. If the relay does not exist, it is created, and the caller
of this function becomes its owner. If the relay already exists, only the owner can call this function. A relay
cannot be its own owner.</p><p>All Ether in this function call will be added to the relay&#x27;s stake.
Its unstake delay will be assigned to <code>unstakeDelay</code>, but the new value must be greater or equal to the current one.</p><p>Emits a {Staked} event.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.registerRelay(uint256,string)"></a><code class="function-signature">registerRelay(uint256 transactionFee, string url)</code><span class="function-visibility">external</span></h4><p>Registers the caller as a relay.
The relay must be staked for, and not be a contract (i.e. this function must be called directly from an EOA).</p><p>This function can be called multiple times, emitting new {RelayAdded} events. Note that the received
<code>transactionFee</code> is not enforced by {relayCall}.</p><p>Emits a {RelayAdded} event.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.removeRelayByOwner(address)"></a><code class="function-signature">removeRelayByOwner(address relay)</code><span class="function-visibility">external</span></h4><p>Removes (deregisters) a relay. Unregistered (but staked for) relays can also be removed.</p><p>Can only be called by the owner of the relay. After the relay&#x27;s <code>unstakeDelay</code> has elapsed, {unstake} will be
callable.</p><p>Emits a {RelayRemoved} event.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.unstake(address)"></a><code class="function-signature">unstake(address relay)</code><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.getRelay(address)"></a>getRelay(address relay) <span class="return-arrow">â†’</span> <span class="return-type">uint256,uint256,uint256,address payable,enum IRelayHub.RelayState</span><span class="function-visibility">external</span></h4><p>Returns a relay&#x27;s status. Note that relays can be deleted when unstaked or penalized, causing this function
to return an empty entry.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.depositFor(address)"></a><code class="function-signature">depositFor(address target)</code><span class="function-visibility">external</span></h4><p>Deposits Ether for a contract, so that it can receive (and pay for) relayed transactions.</p><p>Unused balance can only be withdrawn by the contract itself, by calling {withdraw}.</p><p>Emits a {Deposited} event.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.balanceOf(address)"></a>balanceOf(address target) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><p>Returns an account&#x27;s deposits. These can be either a contracts&#x27;s funds, or a relay owner&#x27;s revenue.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.withdraw(uint256,address payable)"></a><code class="function-signature">withdraw(uint256 amount, address payable dest)</code><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"></a>canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData) <span class="return-arrow">â†’</span> <span class="return-type">uint256,bytes</span><span class="function-visibility">external</span></h4><p>Checks if the <a href="#relayhub"><code>RelayHub</code></a> will accept a relayed operation.
Multiple things must be true for this to happen:</p><ul><li>all arguments must be signed for by the sender (<code>from</code>)</li><li>the sender&#x27;s nonce must be the current one</li><li>the recipient must accept this transaction (via {acceptRelayedCall})</li></ul><p>Returns a <code>PreconditionCheck</code> value (<code>OK</code> when the transaction can be relayed), or a recipient-specific error
code if it returns one in {acceptRelayedCall}.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"></a><code class="function-signature">relayCall(address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code><span class="function-visibility">external</span></h4><p>Relays a transaction.</p><p>For this to succeed, multiple conditions must be met:</p><ul><li>{canRelay} must <code>return PreconditionCheck.OK</code></li><li>the sender must be a registered relay</li><li>the transaction&#x27;s gas price must be larger or equal to the one that was requested by the sender</li><li>the transaction must have enough gas to not run out of gas if all internal transactions (calls to the
recipient) use all gas available to them</li><li>the recipient must have enough balance to pay the relay for the worst-case scenario (i.e. when all gas is
spent)</li></ul><p>If all conditions are met, the call will be relayed and the recipient charged. {preRelayedCall}, the encoded
function and {postRelayedCall} will be called in that order.</p><p>Parameters:</p><ul><li><code>from</code>: the client originating the request</li><li><code>to</code>: the target {IRelayRecipient} contract</li><li><code>encodedFunction</code>: the function call to relay, including data</li><li><code>transactionFee</code>: fee (%) the relay takes over actual gas cost</li><li><code>gasPrice</code>: gas price the client is willing to pay</li><li><code>gasLimit</code>: gas to forward when calling the encoded function</li><li><code>nonce</code>: client&#x27;s nonce</li><li><code>signature</code>: client&#x27;s signature over all previous params, plus the relay and RelayHub addresses</li><li><code>approvalData</code>: dapp-specific data forwared to {acceptRelayedCall}. This value is <em>not</em> verified by the
<a href="#relayhub"><code>RelayHub</code></a>, but it still can be used for e.g. a signature.</li></ul><p>Emits a {TransactionRelayed} event.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.requiredGas(uint256)"></a>requiredGas(uint256 relayedCallStipend) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><p>Returns how much gas should be forwarded to a call to {relayCall}, in order to relay a transaction that will
spend up to <code>relayedCallStipend</code> gas.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.maxPossibleCharge(uint256,uint256,uint256)"></a>maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><p>Returns the maximum recipient charge, given the amount of gas forwarded, gas price and relay fee.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"></a><code class="function-signature">penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)</code><span class="function-visibility">external</span></h4><p>Penalize a relay that signed two transactions using the same nonce (making only the first one valid) and
different data (gas price, gas limit, etc. may be different).</p><p>The (unsigned) transaction data and signature for both transactions must be provided.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.penalizeIllegalTransaction(bytes,bytes)"></a><code class="function-signature">penalizeIllegalTransaction(bytes unsignedTx, bytes signature)</code><span class="function-visibility">external</span></h4><p>Penalize a relay that sent a transaction that didn&#x27;t target <a href="#relayhub"><code>RelayHub</code></a>&#x27;s {registerRelay} or {relayCall}.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.getNonce(address)"></a>getNonce(address from) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><p>Returns an account&#x27;s nonce in <a href="#relayhub"><code>RelayHub</code></a>.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.Staked(address,uint256,uint256)"></a><code class="function-signature">Staked(address relay, uint256 stake, uint256 unstakeDelay)</code><span class="function-visibility"></span></h4><p>Emitted when a relay&#x27;s stake or unstakeDelay are increased</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"></a><code class="function-signature">RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)</code><span class="function-visibility"></span></h4><p>Emitted when a relay is registered or re-registerd. Looking at these events (and filtering out
{RelayRemoved} events) lets a client discover the list of available relays.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.RelayRemoved(address,uint256)"></a><code class="function-signature">RelayRemoved(address relay, uint256 unstakeTime)</code><span class="function-visibility"></span></h4><p>Emitted when a relay is removed (deregistered). <code>unstakeTime</code> is the time when unstake will be callable.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.Unstaked(address,uint256)"></a><code class="function-signature">Unstaked(address relay, uint256 stake)</code><span class="function-visibility"></span></h4><p>Emitted when a relay is unstaked for, including the returned stake.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.Deposited(address,address,uint256)"></a><code class="function-signature">Deposited(address recipient, address from, uint256 amount)</code><span class="function-visibility"></span></h4><p>Emitted when {depositFor} is called, including the amount and account that was funded.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.Withdrawn(address,address,uint256)"></a><code class="function-signature">Withdrawn(address account, address dest, uint256 amount)</code><span class="function-visibility"></span></h4><p>Emitted when an account withdraws funds from <a href="#relayhub"><code>RelayHub</code></a>.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"></a><code class="function-signature">CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)</code><span class="function-visibility"></span></h4><p>Emitted when an attempt to relay a call failed.</p><p>This can happen due to incorrect {relayCall} arguments, or the recipient not accepting the relayed call. The
actual relayed call was not executed, and the recipient not charged.</p><p>The <code>reason</code> parameter contains an error code: values 1-10 correspond to <code>PreconditionCheck</code> entries, and values
over 10 are custom recipient error codes returned from {acceptRelayedCall}.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"></a><code class="function-signature">TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)</code><span class="function-visibility"></span></h4><p>Emitted when a transaction is relayed.
Useful when monitoring a relay&#x27;s operation and relayed calls to a contract</p><p>Note that the actual encoded function might be reverted: this is indicated in the <code>status</code> parameter.</p><p><code>charge</code> is the Ether value deducted from the recipient&#x27;s balance, paid to the relay&#x27;s owner.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayHub.Penalized(address,address,uint256)"></a><code class="function-signature">Penalized(address relay, address sender, uint256 amount)</code><span class="function-visibility"></span></h4><p>Emitted when a relay is penalized.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="irelayrecipient"></a><code>IRelayRecipient</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#irelayrecipient" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#IRelayRecipient.getHubAddr()"><code class="function-signature">getHubAddr()</code></a></li><li><a href="#IRelayRecipient.acceptRelayedCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,uint256)"><code class="function-signature">acceptRelayedCall(address relay, address from, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes approvalData, uint256 maxPossibleCharge)</code></a></li><li><a href="#IRelayRecipient.preRelayedCall(bytes)"><code class="function-signature">preRelayedCall(bytes context)</code></a></li><li><a href="#IRelayRecipient.postRelayedCall(bytes,bool,uint256,bytes32)"><code class="function-signature">postRelayedCall(bytes context, bool success, uint256 actualCharge, bytes32 preRetVal)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayRecipient.getHubAddr()"></a>getHubAddr() <span class="return-arrow">â†’</span> <span class="return-type">address</span><span class="function-visibility">external</span></h4><p>Returns the address of the {IRelayHub} instance this recipient interacts with.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayRecipient.acceptRelayedCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,uint256)"></a>acceptRelayedCall(address relay, address from, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes approvalData, uint256 maxPossibleCharge) <span class="return-arrow">â†’</span> <span class="return-type">uint256,bytes</span><span class="function-visibility">external</span></h4><p>Called by {IRelayHub} to validate if this recipient accepts being charged for a relayed call. Note that the
recipient will be charged regardless of the execution result of the relayed call (i.e. if it reverts or not).</p><p>The relay request was originated by <code>from</code> and will be served by <code>relay</code>. <code>encodedFunction</code> is the relayed call
calldata, so its first four bytes are the function selector. The relayed call will be forwarded <code>gasLimit</code> gas,
and the transaction executed with a gas price of at least <code>gasPrice</code>. <code>relay</code>&#x27;s fee is <code>transactionFee</code>, and the
recipient will be charged at most <code>maxPossibleCharge</code> (in wei). <code>nonce</code> is the sender&#x27;s (<code>from</code>) nonce for
replay attack protection in {IRelayHub}, and <code>approvalData</code> is a optional parameter that can be used to hold a signature
over all or some of the previous values.</p><p>Returns a tuple, where the first value is used to indicate approval (0) or rejection (custom non-zero error code,
values 1 to 10 are reserved) and the second one is data to be passed to the other {IRelayRecipient} functions.</p><p>{acceptRelayedCall} is called with 50k gas: if it runs out during execution, the request will be considered
rejected. A regular revert will also trigger a rejection.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayRecipient.preRelayedCall(bytes)"></a>preRelayedCall(bytes context) <span class="return-arrow">â†’</span> <span class="return-type">bytes32</span><span class="function-visibility">external</span></h4><p>Called by {IRelayHub} on approved relay call requests, before the relayed call is executed. This allows to e.g.
pre-charge the sender of the transaction.</p><p><code>context</code> is the second value returned in the tuple by {acceptRelayedCall}.</p><p>Returns a value to be passed to {postRelayedCall}.</p><p>{preRelayedCall} is called with 100k gas: if it runs out during exection or otherwise reverts, the relayed call
will not be executed, but the recipient will still be charged for the transaction&#x27;s cost.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="IRelayRecipient.postRelayedCall(bytes,bool,uint256,bytes32)"></a><code class="function-signature">postRelayedCall(bytes context, bool success, uint256 actualCharge, bytes32 preRetVal)</code><span class="function-visibility">external</span></h4><p>Called by {IRelayHub} on approved relay call requests, after the relayed call is executed. This allows to e.g.
charge the user for the relayed call costs, return any overcharges from {preRelayedCall}, or perform
contract-specific bookkeeping.</p><p><code>context</code> is the second value returned in the tuple by {acceptRelayedCall}. <code>success</code> is the execution status of
the relayed call. <code>actualCharge</code> is an estimate of how much the recipient will be charged for the transaction,
not including any gas used by {postRelayedCall} itself. <code>preRetVal</code> is {preRelayedCall}&#x27;s return value.</p><p>{postRelayedCall} is called with 100k gas: if it runs out during execution or otherwise reverts, the relayed call
and the call to {preRelayedCall} will be reverted retroactively, but the recipient will still be charged for the
transaction&#x27;s cost.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="libbytes"></a><code>LibBytes</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#libbytes" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#LibBytes.rawAddress(bytes)"><code class="function-signature">rawAddress(bytes input)</code></a></li><li><a href="#LibBytes.contentAddress(bytes)"><code class="function-signature">contentAddress(bytes input)</code></a></li><li><a href="#LibBytes.memCopy(uint256,uint256,uint256)"><code class="function-signature">memCopy(uint256 dest, uint256 source, uint256 length)</code></a></li><li><a href="#LibBytes.slice(bytes,uint256,uint256)"><code class="function-signature">slice(bytes b, uint256 from, uint256 to)</code></a></li><li><a href="#LibBytes.sliceDestructive(bytes,uint256,uint256)"><code class="function-signature">sliceDestructive(bytes b, uint256 from, uint256 to)</code></a></li><li><a href="#LibBytes.popLastByte(bytes)"><code class="function-signature">popLastByte(bytes b)</code></a></li><li><a href="#LibBytes.equals(bytes,bytes)"><code class="function-signature">equals(bytes lhs, bytes rhs)</code></a></li><li><a href="#LibBytes.readAddress(bytes,uint256)"><code class="function-signature">readAddress(bytes b, uint256 index)</code></a></li><li><a href="#LibBytes.writeAddress(bytes,uint256,address)"><code class="function-signature">writeAddress(bytes b, uint256 index, address input)</code></a></li><li><a href="#LibBytes.readBytes32(bytes,uint256)"><code class="function-signature">readBytes32(bytes b, uint256 index)</code></a></li><li><a href="#LibBytes.writeBytes32(bytes,uint256,bytes32)"><code class="function-signature">writeBytes32(bytes b, uint256 index, bytes32 input)</code></a></li><li><a href="#LibBytes.readUint256(bytes,uint256)"><code class="function-signature">readUint256(bytes b, uint256 index)</code></a></li><li><a href="#LibBytes.writeUint256(bytes,uint256,uint256)"><code class="function-signature">writeUint256(bytes b, uint256 index, uint256 input)</code></a></li><li><a href="#LibBytes.readBytes4(bytes,uint256)"><code class="function-signature">readBytes4(bytes b, uint256 index)</code></a></li><li><a href="#LibBytes.writeLength(bytes,uint256)"><code class="function-signature">writeLength(bytes b, uint256 length)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.rawAddress(bytes)"></a>rawAddress(bytes input) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Gets the memory address for a byte array.
@param input Byte array to lookup.
@return memoryAddress Memory address of byte array. This
points to the header of the byte array which contains
the length.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.contentAddress(bytes)"></a>contentAddress(bytes input) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Gets the memory address for the contents of a byte array.
@param input Byte array to lookup.
@return memoryAddress Memory address of the contents of the byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.memCopy(uint256,uint256,uint256)"></a><code class="function-signature">memCopy(uint256 dest, uint256 source, uint256 length)</code><span class="function-visibility">internal</span></h4><p>Copies <code>length</code> bytes from memory location <code>source</code> to <code>dest</code>.
@param dest memory address to copy bytes to.
@param source memory address to copy bytes from.
@param length number of bytes to copy.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.slice(bytes,uint256,uint256)"></a>slice(bytes b, uint256 from, uint256 to) <span class="return-arrow">â†’</span> <span class="return-type">bytes</span><span class="function-visibility">internal</span></h4><p>Returns a slices from a byte array.
@param b The byte array to take a slice from.
@param from The starting index for the slice (inclusive).
@param to The final index for the slice (exclusive).
@return result The slice containing bytes at indices [from, to)</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.sliceDestructive(bytes,uint256,uint256)"></a>sliceDestructive(bytes b, uint256 from, uint256 to) <span class="return-arrow">â†’</span> <span class="return-type">bytes</span><span class="function-visibility">internal</span></h4><p>Returns a slice from a byte array without preserving the input.
@param b The byte array to take a slice from. Will be destroyed in the process.
@param from The starting index for the slice (inclusive).
@param to The final index for the slice (exclusive).
@return result The slice containing bytes at indices [from, to)
@dev When <code>from == 0</code>, the original array will match the slice. In other cases its state will be corrupted.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.popLastByte(bytes)"></a>popLastByte(bytes b) <span class="return-arrow">â†’</span> <span class="return-type">bytes1</span><span class="function-visibility">internal</span></h4><p>Pops the last byte off of a byte array by modifying its length.
@param b Byte array that will be modified.
@return The byte that was popped off.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.equals(bytes,bytes)"></a>equals(bytes lhs, bytes rhs) <span class="return-arrow">â†’</span> <span class="return-type">bool</span><span class="function-visibility">internal</span></h4><p>Tests equality of two byte arrays.
@param lhs First byte array to compare.
@param rhs Second byte array to compare.
@return True if arrays are the same. False otherwise.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.readAddress(bytes,uint256)"></a>readAddress(bytes b, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">address</span><span class="function-visibility">internal</span></h4><p>Reads an address from a position in a byte array.
@param b Byte array containing an address.
@param index Index in byte array of address.
@return address from byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.writeAddress(bytes,uint256,address)"></a><code class="function-signature">writeAddress(bytes b, uint256 index, address input)</code><span class="function-visibility">internal</span></h4><p>Writes an address into a specific position in a byte array.
@param b Byte array to insert address into.
@param index Index in byte array of address.
@param input Address to put into byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.readBytes32(bytes,uint256)"></a>readBytes32(bytes b, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">bytes32</span><span class="function-visibility">internal</span></h4><p>Reads a bytes32 value from a position in a byte array.
@param b Byte array containing a bytes32 value.
@param index Index in byte array of bytes32 value.
@return bytes32 value from byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.writeBytes32(bytes,uint256,bytes32)"></a><code class="function-signature">writeBytes32(bytes b, uint256 index, bytes32 input)</code><span class="function-visibility">internal</span></h4><p>Writes a bytes32 into a specific position in a byte array.
@param b Byte array to insert &lt;input&gt; into.
@param index Index in byte array of &lt;input&gt;.
@param input bytes32 to put into byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.readUint256(bytes,uint256)"></a>readUint256(bytes b, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Reads a uint256 value from a position in a byte array.
@param b Byte array containing a uint256 value.
@param index Index in byte array of uint256 value.
@return uint256 value from byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.writeUint256(bytes,uint256,uint256)"></a><code class="function-signature">writeUint256(bytes b, uint256 index, uint256 input)</code><span class="function-visibility">internal</span></h4><p>Writes a uint256 into a specific position in a byte array.
@param b Byte array to insert &lt;input&gt; into.
@param index Index in byte array of &lt;input&gt;.
@param input uint256 to put into byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.readBytes4(bytes,uint256)"></a>readBytes4(bytes b, uint256 index) <span class="return-arrow">â†’</span> <span class="return-type">bytes4</span><span class="function-visibility">internal</span></h4><p>Reads an unpadded bytes4 value from a position in a byte array.
@param b Byte array containing a bytes4 value.
@param index Index in byte array of bytes4 value.
@return bytes4 value from byte array.</p><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="LibBytes.writeLength(bytes,uint256)"></a><code class="function-signature">writeLength(bytes b, uint256 length)</code><span class="function-visibility">internal</span></h4><p>Writes a new length to a byte array.
Decreasing length will lead to removing the corresponding lower order bytes from the byte array.
Increasing length may lead to appending adjacent in-memory bytes to the end of the byte array.
@param b Bytes array to write new length to.
@param length New length of byte array.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="rlpreader"></a><code>RLPReader</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#rlpreader" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#RLPReader.decodeTransaction(bytes)"><code class="function-signature">decodeTransaction(bytes rawTransaction)</code></a></li><li><a href="#RLPReader.toRlpItem(bytes)"><code class="function-signature">toRlpItem(bytes item)</code></a></li><li><a href="#RLPReader.toList(struct RLPReader.RLPItem)"><code class="function-signature">toList(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.isList(struct RLPReader.RLPItem)"><code class="function-signature">isList(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.numItems(struct RLPReader.RLPItem)"><code class="function-signature">numItems(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader._itemLength(uint256)"><code class="function-signature">_itemLength(uint256 memPtr)</code></a></li><li><a href="#RLPReader._payloadOffset(uint256)"><code class="function-signature">_payloadOffset(uint256 memPtr)</code></a></li><li><a href="#RLPReader.toRlpBytes(struct RLPReader.RLPItem)"><code class="function-signature">toRlpBytes(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.toBoolean(struct RLPReader.RLPItem)"><code class="function-signature">toBoolean(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.toAddress(struct RLPReader.RLPItem)"><code class="function-signature">toAddress(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.toUint(struct RLPReader.RLPItem)"><code class="function-signature">toUint(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.toBytes(struct RLPReader.RLPItem)"><code class="function-signature">toBytes(struct RLPReader.RLPItem item)</code></a></li><li><a href="#RLPReader.copy(uint256,uint256,uint256)"><code class="function-signature">copy(uint256 src, uint256 dest, uint256 len)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.decodeTransaction(bytes)"></a>decodeTransaction(bytes rawTransaction) <span class="return-arrow">â†’</span> <span class="return-type">uint256,uint256,uint256,address,uint256,bytes</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toRlpItem(bytes)"></a>toRlpItem(bytes item) <span class="return-arrow">â†’</span> <span class="return-type">struct RLPReader.RLPItem</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toList(struct RLPReader.RLPItem)"></a>toList(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">struct RLPReader.RLPItem[]</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.isList(struct RLPReader.RLPItem)"></a>isList(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">bool</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.numItems(struct RLPReader.RLPItem)"></a>numItems(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader._itemLength(uint256)"></a>_itemLength(uint256 memPtr) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader._payloadOffset(uint256)"></a>_payloadOffset(uint256 memPtr) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toRlpBytes(struct RLPReader.RLPItem)"></a>toRlpBytes(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">bytes</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toBoolean(struct RLPReader.RLPItem)"></a>toBoolean(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">bool</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toAddress(struct RLPReader.RLPItem)"></a>toAddress(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">address</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toUint(struct RLPReader.RLPItem)"></a>toUint(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.toBytes(struct RLPReader.RLPItem)"></a>toBytes(struct RLPReader.RLPItem item) <span class="return-arrow">â†’</span> <span class="return-type">bytes</span><span class="function-visibility">internal</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RLPReader.copy(uint256,uint256,uint256)"></a><code class="function-signature">copy(uint256 src, uint256 dest, uint256 len)</code><span class="function-visibility">internal</span></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="relayhub"></a><code>RelayHub</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#relayhub" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#RelayHub.stake(address,uint256)"><code class="function-signature">stake(address relay, uint256 unstakeDelay)</code></a></li><li><a href="#RelayHub.registerRelay(uint256,string)"><code class="function-signature">registerRelay(uint256 transactionFee, string url)</code></a></li><li><a href="#RelayHub.removeRelayByOwner(address)"><code class="function-signature">removeRelayByOwner(address relay)</code></a></li><li><a href="#RelayHub.unstake(address)"><code class="function-signature">unstake(address relay)</code></a></li><li><a href="#RelayHub.getRelay(address)"><code class="function-signature">getRelay(address relay)</code></a></li><li><a href="#RelayHub.depositFor(address)"><code class="function-signature">depositFor(address target)</code></a></li><li><a href="#RelayHub.balanceOf(address)"><code class="function-signature">balanceOf(address target)</code></a></li><li><a href="#RelayHub.withdraw(uint256,address payable)"><code class="function-signature">withdraw(uint256 amount, address payable dest)</code></a></li><li><a href="#RelayHub.getNonce(address)"><code class="function-signature">getNonce(address from)</code></a></li><li><a href="#RelayHub.canUnstake(address)"><code class="function-signature">canUnstake(address relay)</code></a></li><li><a href="#RelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"><code class="function-signature">canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code></a></li><li><a href="#RelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"><code class="function-signature">relayCall(address from, address recipient, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code></a></li><li><a href="#RelayHub.recipientCallsAtomic(address,bytes,uint256,uint256,uint256,uint256,bytes)"><code class="function-signature">recipientCallsAtomic(address recipient, bytes encodedFunctionWithFrom, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 preChecksGas, bytes recipientContext)</code></a></li><li><a href="#RelayHub.requiredGas(uint256)"><code class="function-signature">requiredGas(uint256 relayedCallStipend)</code></a></li><li><a href="#RelayHub.maxPossibleCharge(uint256,uint256,uint256)"><code class="function-signature">maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee)</code></a></li><li><a href="#RelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"><code class="function-signature">penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)</code></a></li><li><a href="#RelayHub.penalizeIllegalTransaction(bytes,bytes)"><code class="function-signature">penalizeIllegalTransaction(bytes unsignedTx, bytes signature)</code></a></li></ul><span class="contract-index-title">Events</span><ul><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.Staked(address,uint256,uint256)"><code class="function-signature">Staked(address relay, uint256 stake, uint256 unstakeDelay)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.RelayAdded(address,address,uint256,uint256,uint256,string)"><code class="function-signature">RelayAdded(address relay, address owner, uint256 transactionFee, uint256 stake, uint256 unstakeDelay, string url)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.RelayRemoved(address,uint256)"><code class="function-signature">RelayRemoved(address relay, uint256 unstakeTime)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.Unstaked(address,uint256)"><code class="function-signature">Unstaked(address relay, uint256 stake)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.Deposited(address,address,uint256)"><code class="function-signature">Deposited(address recipient, address from, uint256 amount)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.Withdrawn(address,address,uint256)"><code class="function-signature">Withdrawn(address account, address dest, uint256 amount)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.CanRelayFailed(address,address,address,bytes4,uint256)"><code class="function-signature">CanRelayFailed(address relay, address from, address to, bytes4 selector, uint256 reason)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.TransactionRelayed(address,address,address,bytes4,enum IRelayHub.RelayCallStatus,uint256)"><code class="function-signature">TransactionRelayed(address relay, address from, address to, bytes4 selector, enum IRelayHub.RelayCallStatus status, uint256 charge)</code></a></li><li class="inherited"><a href="/docs/api/contracts/gsn/v1#IRelayHub.Penalized(address,address,uint256)"><code class="function-signature">Penalized(address relay, address sender, uint256 amount)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.stake(address,uint256)"></a><code class="function-signature">stake(address relay, uint256 unstakeDelay)</code><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.registerRelay(uint256,string)"></a><code class="function-signature">registerRelay(uint256 transactionFee, string url)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.removeRelayByOwner(address)"></a><code class="function-signature">removeRelayByOwner(address relay)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.unstake(address)"></a><code class="function-signature">unstake(address relay)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.getRelay(address)"></a>getRelay(address relay) <span class="return-arrow">â†’</span> <span class="return-type">uint256,uint256,uint256,address payable,enum IRelayHub.RelayState</span><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.depositFor(address)"></a><code class="function-signature">depositFor(address target)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.balanceOf(address)"></a>balanceOf(address target) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.withdraw(uint256,address payable)"></a><code class="function-signature">withdraw(uint256 amount, address payable dest)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.getNonce(address)"></a>getNonce(address from) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.canUnstake(address)"></a>canUnstake(address relay) <span class="return-arrow">â†’</span> <span class="return-type">bool</span><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.canRelay(address,address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"></a>canRelay(address relay, address from, address to, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData) <span class="return-arrow">â†’</span> <span class="return-type">uint256,bytes</span><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.relayCall(address,address,bytes,uint256,uint256,uint256,uint256,bytes,bytes)"></a><code class="function-signature">relayCall(address from, address recipient, bytes encodedFunction, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 nonce, bytes signature, bytes approvalData)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.recipientCallsAtomic(address,bytes,uint256,uint256,uint256,uint256,bytes)"></a>recipientCallsAtomic(address recipient, bytes encodedFunctionWithFrom, uint256 transactionFee, uint256 gasPrice, uint256 gasLimit, uint256 preChecksGas, bytes recipientContext) <span class="return-arrow">â†’</span> <span class="return-type">enum IRelayHub.RelayCallStatus</span><span class="function-visibility">external</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.requiredGas(uint256)"></a>requiredGas(uint256 relayedCallStipend) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.maxPossibleCharge(uint256,uint256,uint256)"></a>maxPossibleCharge(uint256 relayedCallStipend, uint256 gasPrice, uint256 transactionFee) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.penalizeRepeatedNonce(bytes,bytes,bytes,bytes)"></a><code class="function-signature">penalizeRepeatedNonce(bytes unsignedTx1, bytes signature1, bytes unsignedTx2, bytes signature2)</code><span class="function-visibility">public</span></h4><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="RelayHub.penalizeIllegalTransaction(bytes,bytes)"></a><code class="function-signature">penalizeIllegalTransaction(bytes unsignedTx, bytes signature)</code><span class="function-visibility">public</span></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="safemath"></a><code>SafeMath</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#safemath" title="Direct link to heading">#</a></h3><div class="contract-index"><span class="contract-index-title">Functions</span><ul><li><a href="#SafeMath.add(uint256,uint256)"><code class="function-signature">add(uint256 a, uint256 b)</code></a></li><li><a href="#SafeMath.sub(uint256,uint256)"><code class="function-signature">sub(uint256 a, uint256 b)</code></a></li><li><a href="#SafeMath.mul(uint256,uint256)"><code class="function-signature">mul(uint256 a, uint256 b)</code></a></li><li><a href="#SafeMath.div(uint256,uint256)"><code class="function-signature">div(uint256 a, uint256 b)</code></a></li><li><a href="#SafeMath.mod(uint256,uint256)"><code class="function-signature">mod(uint256 a, uint256 b)</code></a></li></ul></div><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="SafeMath.add(uint256,uint256)"></a>add(uint256 a, uint256 b) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Returns the addition of two unsigned integers, reverting on
overflow.</p><p>Counterpart to Solidity&#x27;s <code>+</code> operator.</p><p>Requirements:</p><ul><li>Addition cannot overflow.</li></ul><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="SafeMath.sub(uint256,uint256)"></a>sub(uint256 a, uint256 b) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Returns the subtraction of two unsigned integers, reverting on
overflow (when the result is negative).</p><p>Counterpart to Solidity&#x27;s <code>-</code> operator.</p><p>Requirements:</p><ul><li>Subtraction cannot overflow.</li></ul><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="SafeMath.mul(uint256,uint256)"></a>mul(uint256 a, uint256 b) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Returns the multiplication of two unsigned integers, reverting on
overflow.</p><p>Counterpart to Solidity&#x27;s <code>*</code> operator.</p><p>Requirements:</p><ul><li>Multiplication cannot overflow.</li></ul><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="SafeMath.div(uint256,uint256)"></a>div(uint256 a, uint256 b) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Returns the integer division of two unsigned integers. Reverts on
division by zero. The result is rounded towards zero.</p><p>Counterpart to Solidity&#x27;s <code>/</code> operator. Note: this function uses a
<code>revert</code> opcode (which leaves remaining gas untouched) while Solidity
uses an invalid opcode to revert (consuming all remaining gas).</p><p>Requirements:</p><ul><li>The divisor cannot be zero.</li></ul><h4><a target="_blank" rel="noopener noreferrer" class="anchor" aria-hidden="true" id="SafeMath.mod(uint256,uint256)"></a>mod(uint256 a, uint256 b) <span class="return-arrow">â†’</span> <span class="return-type">uint256</span><span class="function-visibility">internal</span></h4><p>Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),
Reverts when dividing by zero.</p><p>Counterpart to Solidity&#x27;s <code>%</code> operator. This function uses a <code>revert</code>
opcode (which leaves remaining gas untouched) while Solidity uses an
invalid opcode to revert (consuming all remaining gas).</p><p>Requirements:</p><ul><li>The divisor cannot be zero.</li></ul></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/AugurProject/augur/edit/documentation/augur.sh/../docs/api/contracts/gsn/v1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contracts" class="table-of-contents__link">Contracts</a><ul><li><a href="#ecdsa" class="table-of-contents__link"><code>ECDSA</code></a></li><li><a href="#gsnutils" class="table-of-contents__link"><code>GsnUtils</code></a></li><li><a href="#irelayhub" class="table-of-contents__link"><code>IRelayHub</code></a></li><li><a href="#irelayrecipient" class="table-of-contents__link"><code>IRelayRecipient</code></a></li><li><a href="#libbytes" class="table-of-contents__link"><code>LibBytes</code></a></li><li><a href="#rlpreader" class="table-of-contents__link"><code>RLPReader</code></a></li><li><a href="#relayhub" class="table-of-contents__link"><code>RelayHub</code></a></li><li><a href="#safemath" class="table-of-contents__link"><code>SafeMath</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright Â© 2021 Forecast Foundation OU. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.943a240c.js"></script>
<script src="/runtime~main.db2d6edf.js"></script>
<script src="/main.4e7c697c.js"></script>
<script src="/1.54979635.js"></script>
<script src="/2.44cddc75.js"></script>
<script src="/460.ddafda56.js"></script>
<script src="/461.f459c302.js"></script>
<script src="/20ac7829.fdad4d02.js"></script>
<script src="/17896441.0350ada8.js"></script>
<script src="/3cc282e7.0be5cf51.js"></script>
</body>
</html>